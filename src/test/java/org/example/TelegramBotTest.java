package org.example;

import org.example.StorePars.ParseStore;
import org.junit.Assert;
import org.junit.Test;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

public class TelegramBotTest{


    @Test
    public void testStart() {
        String ans = "–ü—Ä–∏–≤–µ—Ç! –Ø –ê–∫—Ü–∏—è –∏ –≥–æ—Ç–æ–≤–∞ –ø–æ–º–æ—á—å —Ç–µ–±–µ –Ω–∞–π—Ç–∏ —Ç–æ–≤–∞—Ä—ã –ø–æ –∞–∫—Ü–∏–∏ –≤ –Ω–∞—à–µ–º –º–∞–≥–∞–∑–∏–Ω–µ. –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –º–Ω–µ, —á—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ, –∏ —è —Å —Ä–∞–¥–æ—Å—Ç—å—é –ø–æ–º–æ–≥—É —Ç–µ–±–µ –Ω–∞–π—Ç–∏ –ª—É—á—à–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è. –ê –µ—â–µ —É –º–µ–Ω—è –µ—Å—Ç—å –º–Ω–æ–≥–æ –ø–æ–ª–µ–∑–Ω—ã—Ö —Å–æ–≤–µ—Ç–æ–≤ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –≤—ã–±–æ—Ä—É —Ç–æ–≤–∞—Ä–æ–≤. –ù–µ —Å—Ç–µ—Å–Ω—è–π—Å—è, –ø–∏—à–∏ –º–Ω–µ /keyboard! \uD83D\uDE0A\uD83D\uDECDÔ∏è";
        Command command = new Command();
        Assert.assertEquals(ans, command.getResponse("/start"));
    }

    @Test
    public void testHelp() {
        String ans = "–ö–æ–º–∞–Ω–¥—ã: /start - –Ω–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º, \n /store - –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –º–∞–≥–∞–∑–∏–Ω–æ–≤, \n /all - –≤—ã–≤–æ–¥–∏—Ç –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∞–∫—Ü–∏–∏ (–¥–æ—Å—Ç—É–ø–Ω—ã —Ñ–ª–∞–≥–∏ -5, -p, -v), \n –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ - –≤—ã–≤–æ–¥–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–≤–∞—Ä –ø–æ –∞–∫—Ü–∏–∏, –µ—Å–ª–∏ –æ–Ω –≤ –Ω–∞–ª–∏—á–∏–∏, \n –ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ - –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –ø–æ –∞–∫—Ü–∏–∏ –≤ —ç—Ç–æ–º –º–∞–≥–∞–∑–∏–Ω–µ";
        Command command = new Command();
        Assert.assertEquals(ans, command.getResponse("/help"));
    }

    @Test
    public void testStore() {
        String ans = "–ü—è—Ç–µ—Ä–æ—á–∫–∞, –≤–µ—Ä–Ω—ã–π, –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–æ–∫. –ö–∞–∫–æ–π –º–∞–≥–∞–∑–∏–Ω –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?";
        Command command = new Command();
        Assert.assertEquals(ans, command.getResponse("/store"));
    }

    @Test
    public void testFilter() throws IOException {
        String ans = """
                –ü—è—Ç–µ—Ä–æ—á–∫–∞
                –¢–∞–∫–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –Ω–µ—Ç –∏–ª–∏ –æ—à–∏–±–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–≤–µ—Å—Ç–∏ –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞–ø–∏—à–∏—Ç–µ /ALL
                –í–µ—Ä–Ω—ã–π
                –¢–∞–∫–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –Ω–µ—Ç –∏–ª–∏ –æ—à–∏–±–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–≤–µ—Å—Ç–∏ –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞–ø–∏—à–∏—Ç–µ /ALL
                –ü–µ—Ä–µ–∫—Ä–µ—Å—Ç–æ–∫
                –¢–∞–∫–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –Ω–µ—Ç –∏–ª–∏ –æ—à–∏–±–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–≤–µ—Å—Ç–∏ –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞–ø–∏—à–∏—Ç–µ /ALL""";

        String keyWord = "–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å";
        List<String> data = new ArrayList<>();
        data.add(ParseStore.parse("–ü—è—Ç–µ—Ä–æ—á–∫–∞", keyWord));
        data.add(ParseStore.parse("–í–µ—Ä–Ω—ã–π", keyWord));
        data.add(ParseStore.parse("–ü–µ—Ä–µ–∫—Ä–µ—Å—Ç–æ–∫", keyWord));
        System.out.println(String.join("\n", data));
        Assert.assertEquals(ans, String.join("\n", data));
    }

    @Test
    public void testDefault() {
        String ans = "–ò–∑–≤–∏–Ω–∏, –ø–æ–∫–∞ –Ω–µ –º–æ–∂–µ–º –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤–∞–º –æ–ø—Ü–∏—é, –æ –∫–æ—Ç–æ—Ä–æ–π –≤—ã —Å–ø—Ä–∞—à–∏–≤–∞–ª–∏. üòî –ù–æ –Ω–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ—Å—å! –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —É–ª—É—á—à–µ–Ω–∏–µ–º —Å–µ—Ä–≤–∏—Å–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π. üöÄ –ë—É–¥–µ–º —Ä–∞–¥—ã, –µ—Å–ª–∏ –≤—ã –æ—Å—Ç–∞–Ω–µ—Ç–µ—Å—å —Å –Ω–∞–º–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏—Ç–µ –Ω–∞—Å –≤ —ç—Ç–æ–º. ‚ù§Ô∏è –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ!";
        Command command = new Command();
        Assert.assertEquals(ans, command.getResponse("default"));
    }
}